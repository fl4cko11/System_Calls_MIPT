#! /bin/bash
# Этот скрипт выполняет несколько действий: реверсирует содержимое файлов в каталогах, создает структуру каталогов и файлов, а затем записывает в них строки.

# Инициализируем переменную i для нумерации каталогов
i=1

cd dirs

# Внешний цикл: выполняется, пока переменная i не станет равной 5
while [ $i -lt 5 ]
do
  # Переходим в каталог с именем "dir$i" (например, dir1, dir2, и т.д.)
  cd dir$i
  
  # Реверсируем содержимое файла "file$i" с помощью команды rev и записываем результат обратно в этот файл
  echo $(rev file$i) > file$i
  
  # Увеличиваем значение переменной i на 1 для перехода к следующему каталогу
  i=$(( $i + 1 ))
done

# Следующий блок — создание новой директории и иерархии подкаталогов и файлов на основе переданных аргументов.

# Комментарий для этой строки (echo $1) был закомментирован, возможно, это отладочный вывод
# echo $1

# Создаем основную директорию с названием "Directory"
mkdir "Directory"

# Переходим в только что созданную директорию "Directory"
cd "Directory"

# Внешний цикл: создаем $1 каталогов с именами "Folder 1", "Folder 2", ..., "Folder $1"
for ((i = 1; i <= $1; i++))
do
   # Создаем каталог с именем "Folder $i" (например, "Folder 1", "Folder 2", и т.д.)
   mkdir "Folder $i"
   
   # Внутренний цикл: создаем $2 файлов в каждом каталоге "Folder $i"
   for ((j = 1; j <= $2; j++))
   do
      # Создаем файл с именем "File $j" внутри каталога "Folder $i"
      touch "Folder $i/File $j"
      
      # Еще один вложенный цикл: выполняем $3 итераций для каждого файла
      for ((k  = 1; k <= $3; k++))
      do
         # Добавляем строку "You have come to the File number $j of the Folder number $i" в файл "File $j" внутри каталога "Folder $i"
         # Это повторяется $3 раз для каждого файла
         echo You have come to the File number $j of the Folder number $i >> "Folder $i/File $j"
      done   
   done
done
